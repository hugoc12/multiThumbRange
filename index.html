<!DOCTYPE html>
<html>
<head>
	<title>MultiThumbSlider</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">

	<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap" rel="stylesheet">

	<link rel="stylesheet" type="text/css" href="css/estilo.css">
</head>
<body>
	
	<div class="MultiThumbSlider">
		<div class="MultiThumbSlider__cxValor cxValor--Min"><span class="MultiThumbSlider__TextoVl TextoVl--Min">R$0</span></div>
		<div class="MultiThumbSlider__cxValor cxValor--Max"><span class="MultiThumbSlider__TextoVl TextoVl--Max">R$1.000.000,00</span></div>
		<input type="range" name="" id="input-left" min="0" max="100" value="0">
		<input type="range" name="" id="input-right" min="0" max="100" value="100">
		<div class="MultiThumbSlider__slider">
			<div class="MultiThumbSlider__fundo"></div>
			<div class="MultiThumbSlider__ativa"></div>
			<div class="MultiThumbSlider__thumb thumb--left"></div>
			<div class="MultiThumbSlider__thumb thumb--right"></div>
		</div>
		
	</div>

	<script type="text/javascript">
		var inputRangeLeft = document.getElementById('input-left');
		var inputRangeRight = document.getElementById('input-right');
		var barraAtiva = document.querySelector('.MultiThumbSlider__ativa');
		var thumbLeft = document.querySelector('.thumb--left');
		var thumbRight = document.querySelector('.thumb--right');

		var cxValorMin = document.querySelector('.TextoVl--Min');
		var cxValorMax = document.querySelector('.TextoVl--Max');

		inputRangeLeft.addEventListener('input', function(){
			console.log(inputRangeLeft.value);

			var valor  =  new String(inputRangeLeft.value * 10000);
			if (valor.length == 5) {
				valor = valor.slice(0, 2);
				cxValorMin.innerHTML = "R$" + valor + "." + "000" + ",00";
				
			}else if(valor.length == 6) {
				valor = valor.slice(0, 3);
				cxValorMin.innerHTML = "R$" + valor + "." + "000" + ",00";
			}

			
			

			var vlLeft = Math.min(parseInt(inputRangeLeft.value), parseInt(inputRangeRight.value) - 5);


			inputRangeLeft.value = vlLeft;
			barraAtiva.style.left = vlLeft + "%";
			thumbLeft.style.left = vlLeft + "%";
		});

		inputRangeRight.addEventListener('input', function(){
			console.log(inputRangeRight.value);

			var valor  =  new String(inputRangeRight.value * 10000);
			if (valor.length == 5) {
				valor = valor.slice(0, 2);
				cxValorMax.innerHTML = "R$" + valor + "." + "000" + ",00";
				
			}else if(valor.length == 6) {
				valor = valor.slice(0, 3);
				cxValorMax.innerHTML = "R$" + valor + "." + "000" + ",00";

			}else if(valor.length == 7) {
				cxValorMax.innerHTML = "R$1.000.000,00";
			}

			var vlRight = Math.max(parseInt(inputRangeLeft.value) + 5, parseInt(inputRangeRight.value));

			inputRangeRight.value = vlRight;
			barraAtiva.style.right = (100 - vlRight) + "%";
			thumbRight.style.right = (100 - vlRight) + "%";
		});
	</script>
</body>
</html>